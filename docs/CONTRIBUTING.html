<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Contribution process • cytominer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="Contribution process" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cytominer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/cytominer-pipeline.html">Introduction to cytominer</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cytomining/cytominer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contribution process</h1>
    </div>


<div id="contribution-process" class="section level1">

<p>You can contribute to <code>cytominer</code> through GitHub issues and pull requests.</p>
<div id="issues" class="section level2">
<h2 class="hasAnchor">
<a href="#issues" class="anchor"></a>Issues</h2>
<p>If you have a proposal for new functionality for <code>cytominer</code> and would like to discuss it with the team, please <a href="https://github.com/cytomining/cytominer/issues/new">file an issue</a> describing the feature you would like to see implemented. We’re happy to discuss it with you.</p>
<p>Additionally, we encourage you to <a href="https://github.com/cytomining/cytominer/issues/new">file an issue</a> to report broken or unexpected functionality (a.k.a., “bugs”). Please include information such as the versions of <code>cytominer</code> and R you use, and provide steps to reproduce the behavior. Sometimes this includes generating small data sets. If necessary, you can share them with us via services like Dropbox and Google Drive.</p>
</div>
<div id="pull-requests" class="section level2">
<h2 class="hasAnchor">
<a href="#pull-requests" class="anchor"></a>Pull requests</h2>
<p>If you have a feature you have implemented for <code>cytominer</code> that you would like to add to the project, please <a href="https://github.com/cytomining/cytominer/pulls">create a pull request</a> and we’ll work with you to incorporate your addition. Please read the section below on <a href="#extending-cytominer">extending cytominer</a> and ensure your addition meets the specification and follows <a href="http://style.tidyverse.org/">this style guide</a>.</p>
</div>
</div>
<div id="extending-cytominer" class="section level1">
<h1 class="hasAnchor">
<a href="#extending-cytominer" class="anchor"></a>Extending cytominer</h1>
<p><code>cytominer</code> defines several high-level functions for manipulating profiling data: <code>aggregate</code>, <code>normalize</code>, <code>transform</code>, and <code>variable_select</code>. Each function accepts a consistent set of parameters: <code>population</code>, <code>variables</code>, and <code>operation</code>. The <code>operation</code> parameter allows the user to specify an exact operation to apply to their data. For example, <code>"standardize"</code> is an <code>operation</code> that can be applied by the <code>normalize</code> function. You can read more about these parameters and the functions in the sections below.</p>
<p>When extending <code>cytominer</code>, it is important to consider which of the four functions the new operation belongs to. You should define the new operation in a new file (<code>R/new_operation.R</code>), and extend its corresponding high-level function to support the operation. Generally, extending a high-level function to support a new operation is straightforward; look for an <code>if</code> block which cases on the <code>operation</code> string and add a case for the new operation. Be sure to document the new operation and also list it as an option in the corresponding high-level function’s <code>operation</code> documentation.</p>
<div id="parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#parameters" class="anchor"></a>Parameters</h2>
<table>
<thead><tr class="header">
<th>variable</th>
<th>description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>population</code></td>
<td>tbl with grouping (metadata) and observation variables.</td>
</tr>
<tr class="even">
<td><code>variables</code></td>
<td>character vector specifying observation variables.</td>
</tr>
<tr class="odd">
<td><code>operation</code></td>
<td>character string specifying a specific method to use.</td>
</tr>
<tr class="even">
<td>
<code>sample</code>*</td>
<td>tbl containing sample that is used by some <code>operation</code> methods.</td>
</tr>
<tr class="odd">
<td>
<code>strata</code>*</td>
<td>character vector specifying grouping variables.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>optional arguments passed to the <code>operation</code>
</td>
</tr>
</tbody>
</table>
<p>* these parameters may not be required by the function and are omitted. If these are required for new functionality, please extend the high-level function signature to include the parameter with a sane default (e.g., <code>NULL</code>).</p>
</div>
<div id="aggregate" class="section level2">
<h2 class="hasAnchor">
<a href="#aggregate" class="anchor"></a>Aggregate</h2>
<p>Aggregate data based on given grouping.</p>
<div class="sourceCode" id="cb1"><html><pre class="r"><span class="no">aggregate</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">population</span>, <span class="no">variables</span>, <span class="no">strata</span>,
                      <span class="no">operation</span> <span class="kw">=</span> <span class="st">"mean"</span>,
                      <span class="no">univariate</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="no">...</span>) { <span class="no">...</span> }</pre></html></div>
<p><code>univariate</code> is a boolean specifying whether the aggregation function is univariate or multivariate.</p>
<div id="example" class="section level3">
<h3 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h3>
<div class="sourceCode" id="cb2"><html><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/deprecated.html">data_frame</a></span>(
   <span class="kw">Metadata_group</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"control"</span>,
                      <span class="st">"experiment"</span>, <span class="st">"experiment"</span>, <span class="st">"experiment"</span>,
                      <span class="st">"experiment"</span>),
   <span class="kw">Metadata_batch</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>),
   <span class="kw">AreaShape_Area</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">10</span>, <span class="fl">12</span>, <span class="fl">15</span>, <span class="fl">16</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">7</span>)
 )
<span class="no">variables</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"AreaShape_Area"</span>)
<span class="no">strata</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Metadata_group"</span>, <span class="st">"Metadata_batch"</span>)
<span class="fu"><a href="reference/aggregate.html">aggregate</a></span>(<span class="no">population</span>, <span class="no">variables</span>, <span class="no">strata</span>, <span class="kw">operation</span> <span class="kw">=</span> <span class="st">"mean"</span>)</pre></html></div>
</div>
</div>
<div id="normalize" class="section level2">
<h2 class="hasAnchor">
<a href="#normalize" class="anchor"></a>Normalize</h2>
<p>Normalize observation variables based on the specified normalization method.</p>
<div class="sourceCode" id="cb3"><html><pre class="r"><span class="no">normalize</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">population</span>, <span class="no">variables</span>, <span class="no">strata</span>, <span class="no">sample</span>,
                      <span class="no">operation</span> <span class="kw">=</span> <span class="st">"standardize"</span>, <span class="no">...</span>) { <span class="no">...</span> }</pre></html></div>
<div id="example-1" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1" class="anchor"></a>Example</h3>
<div class="sourceCode" id="cb4"><html><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressMessages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/warning.html">suppressWarnings</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)))
<span class="no">population</span> <span class="kw">&lt;-</span> <span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/deprecated.html">data_frame</a></span>(
   <span class="kw">Metadata_group</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"control"</span>,
                      <span class="st">"experiment"</span>, <span class="st">"experiment"</span>, <span class="st">"experiment"</span>, <span class="st">"experiment"</span>),
   <span class="kw">Metadata_batch</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>),
   <span class="kw">AreaShape_Area</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">10</span>, <span class="fl">12</span>, <span class="fl">15</span>, <span class="fl">16</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">7</span>)
 )
<span class="no">variables</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'AreaShape_Area'</span>)
<span class="no">strata</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Metadata_batch'</span>)
<span class="no">sample</span> <span class="kw">&lt;-</span> <span class="no">population</span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">Metadata_group</span> <span class="kw">==</span> <span class="st">'control'</span>)
<span class="kw pkg">cytominer</span><span class="kw ns">::</span><span class="fu"><a href="reference/normalize.html">normalize</a></span>(<span class="no">population</span>, <span class="no">variables</span>, <span class="no">strata</span>, <span class="no">sample</span>, <span class="kw">operation</span> <span class="kw">=</span> <span class="st">"standardize"</span>)</pre></html></div>
</div>
</div>
<div id="transform" class="section level2">
<h2 class="hasAnchor">
<a href="#transform" class="anchor"></a>Transform</h2>
<p>Transform observation variables based on the specified transformation method.</p>
<div class="sourceCode" id="cb5"><html><pre class="r"><span class="no">transform</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">population</span>, <span class="no">variables</span>,
                      <span class="no">operation</span> <span class="kw">=</span> <span class="st">"generalized_log"</span>, <span class="no">...</span>) { <span class="no">...</span> }</pre></html></div>
<div id="example-2" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2" class="anchor"></a>Example</h3>
<div class="sourceCode" id="cb6"><html><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/deprecated.html">data_frame</a></span>(
   <span class="kw">Metadata_Well</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A01"</span>, <span class="st">"A02"</span>, <span class="st">"B01"</span>, <span class="st">"B02"</span>),
   <span class="kw">Intensity_DNA</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">8</span>, <span class="fl">20</span>, <span class="fl">12</span>, <span class="fl">32</span>)
 )
<span class="no">variables</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Intensity_DNA"</span>)
<span class="fu"><a href="reference/transform.html">transform</a></span>(<span class="no">population</span>, <span class="no">variables</span>, <span class="kw">operation</span> <span class="kw">=</span> <span class="st">"generalized_log"</span>)</pre></html></div>
</div>
</div>
<div id="variable-select" class="section level2">
<h2 class="hasAnchor">
<a href="#variable-select" class="anchor"></a>Variable select</h2>
<p>Select observation variables based on the specified variable selection method.</p>
<div class="sourceCode" id="cb7"><html><pre class="r"><span class="no">variable_select</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">population</span>, <span class="no">variables</span>,
                            <span class="no">sample</span> <span class="kw">=</span> <span class="kw">NULL</span>,
                            <span class="no">operation</span> <span class="kw">=</span> <span class="st">"variance_threshold"</span>, <span class="no">...</span>) { <span class="no">...</span> }</pre></html></div>
<div id="example-3" class="section level3">
<h3 class="hasAnchor">
<a href="#example-3" class="anchor"></a>Example</h3>
<div class="sourceCode" id="cb8"><html><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressMessages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/warning.html">suppressWarnings</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)))
<span class="no">population</span> <span class="kw">&lt;-</span> <span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/deprecated.html">data_frame</a></span>(
   <span class="kw">x</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">100</span>),
   <span class="kw">y</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">100</span>)/<span class="fl">1000</span>
 )
<span class="no">population</span> <span class="kw">%&lt;&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">z</span> <span class="kw">=</span> <span class="no">x</span> + <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">100</span>) / <span class="fl">10</span>)
<span class="no">sample</span> <span class="kw">&lt;-</span> <span class="no">population</span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="fl">1</span>:<span class="fl">30</span>)
<span class="no">variables</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span>)
<span class="no">operation</span> <span class="kw">&lt;-</span> <span class="st">"correlation_threshold"</span>
<span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span>(<span class="no">sample</span>)

<span class="co"># `x` and `z` are highly correlated; one of them will be removed</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">population</span>)
<span class="kw pkg">futile.logger</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/futile.logger/man/flog.threshold.html">flog.threshold</a></span>(<span class="kw pkg">futile.logger</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/futile.logger/man/logger.options.html">ERROR</a></span>)
<span class="fu"><a href="reference/variable_select.html">variable_select</a></span>(<span class="no">population</span>, <span class="no">variables</span>, <span class="no">sample</span>, <span class="no">operation</span>) <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()</pre></html></div>
</div>
</div>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Tim Becker, Allen Goodman, Claire McQuin, Mohammad Rohban, Shantanu Singh.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


